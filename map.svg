<?xml version="1.0" encoding="UTF-8"?>
<svg
  width="1000"
  height="1000"
  viewBox="0 0 1000 1000"
  xmlns="http://www.w3.org/2000/svg"
>
  <style>
    .popup-group .map-popup {
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
    }
    .popup-group:hover .map-popup,
    .popup-group:focus-within .map-popup {
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }
    .trigger-btn {
      cursor: pointer;
      /* Confirmed: Removed transition property as nothing is transitioning on hover anymore */
      /* transition: r 0.15s, filter 0.2s; */
      filter: drop-shadow(0 2px 8px #0004);
    }
    .trigger-btn:hover {
      /* No changes here, as per previous fixes */
    }
    .map-popup rect {
      filter: drop-shadow(0 2px 12px #0002);
    }
    .map-popup text {
      font-family: sans-serif;
      font-size: 18px;
      fill: #1a1a1a;
      pointer-events: none;
    }
  </style>

  <!-- Base Map Layer -->
  <g id="base-map">
    <rect x="0" y="0" width="1000" height="1000" fill="#e0e0e0" />
    <path d="M100,200 Q400,50 700,200" stroke="#888" stroke-width="4" fill="none"/>
    <rect x="100" y="700" width="300" height="200" fill="#b5f5b5" />
  </g>

  <!-- Public Areas (for media pins) -->
  <g id="public-areas">
    <rect id="area1" data-area="true" x="120" y="220" width="200" height="120" fill="white" opacity="0.7"/>
    <rect id="area2" data-area="true" x="600" y="350" width="200" height="160" fill="white" opacity="0.7"/>
    <rect id="area3" data-area="true" x="400" y="800" width="220" height="120" fill="white" opacity="0.7"/>
  </g>

  <!-- Popups and triggers, grouped for CSS :hover -->
  <g id="map-popups">
    <!-- Group 1 -->
    <g class="popup-group">
      <circle id="trigger1" class="trigger-btn" cx="230" cy="280" r="18" fill="#ff9800" stroke="#333" stroke-width="2"/>
      <g class="map-popup" id="popup1">
        <rect x="190" y="210" width="160" height="60" rx="12" fill="#fff" stroke="#333" stroke-width="2"/>
        <text x="200" y="245">Las Vegas Strip</text>
      </g>
    </g>
    <!-- Group 2 -->
    <g class="popup-group">
      <circle id="trigger2" class="trigger-btn" cx="700" cy="400" r="18" fill="#29b6f6" stroke="#333" stroke-width="2"/>
      <g class="map-popup" id="popup2">
        <rect x="670" y="330" width="160" height="60" rx="12" fill="#fff" stroke="#333" stroke-width="2"/>
        <text x="680" y="365">Downtown Vegas</text>
      </g>
    </g>
    <!-- Group 3 -->
    <g class="popup-group">
      <circle id="trigger3" class="trigger-btn" cx="510" cy="860" r="18" fill="#e91e63" stroke="#333" stroke-width="2"/>
      <g class="map-popup" id="popup3">
        <rect x="470" y="790" width="160" height="60" rx="12" fill="#fff" stroke="#333" stroke-width="2"/>
        <text x="480" y="825">Arts District</text>
      </g>
    </g>
  </g>
</svg>
